-- Consulta para descobrir a média global (de todas as avaliações) de um aluno específico
SELECT avg(a.nota)
FROM avaliacaodealuno a, alunos c
WHERE a.matriculaaluno = c.matricula and c.matricula ='20230029';

-- Consulta para retornar o total da folha de pagamento da escola, somando os salários dos professores e secretários
SELECT SUM(sum) AS folhapagamento
FROM (
    SELECT SUM(salario) 
	FROM professores
    UNION
    SELECT SUM(salario) 
	FROM secretarios
);

-- Consulta para retornar a média global (todas as matérias) de cada turma 
SELECT a.idturma, AVG(nota)
FROM avaliacoes a, avaliacaodealuno b
WHERE a.idavaliacao = b.idavaliacao
GROUP BY a.idturma;

-- Consulta para retornar a média global apenas das turmas que obtiveram um total acima de 7
SELECT a.idturma, AVG(nota) AS mediaturma
FROM avaliacoes a, avaliacaodealuno b
WHERE a.idavaliacao = b.idavaliacao
GROUP BY a.idturma
HAVING AVG(nota) > 7;
